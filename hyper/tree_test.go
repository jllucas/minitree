package hyper

import (
	"testing"

	"github.com/jllucas/minitree/common"
	"github.com/stretchr/testify/assert"
)

func TestAdd(t *testing.T) {

}

func TestGenerateMembershipProof(t *testing.T) {

}

func TestGenerateDefaultHashes(t *testing.T) {
	tests := map[string]struct {
		level        uint8
		expectedHash common.Hash
	}{
		"Def. hash level 0": {
			0,
			common.Hash{0x6e, 0x34, 0xb, 0x9c, 0xff, 0xb3, 0x7a, 0x98, 0x9c, 0xa5, 0x44, 0xe6, 0xbb, 0x78, 0xa, 0x2c, 0x78, 0x90, 0x1d, 0x3f, 0xb3, 0x37, 0x38, 0x76, 0x85, 0x11, 0xa3, 0x6, 0x17, 0xaf, 0xa0, 0x1d}},
		"Def. hash level 1": {
			1,
			common.Hash{0xb2, 0x89, 0xde, 0xa9, 0x2c, 0xa5, 0xab, 0xa5, 0xf2, 0xe1, 0x89, 0x1a, 0x1a, 0xf1, 0x1b, 0xe2, 0x79, 0x14, 0xc4, 0x88, 0x54, 0xdb, 0xf, 0xe5, 0xb4, 0xbb, 0x95, 0xc1, 0x37, 0xe0, 0xf2, 0xd6}},
	}

	htree := NewHyperTree(3)
	for testname, test := range tests {
		assert.Equalf(t, test.expectedHash, htree.GetDefaultHash(test.level), "Hashes don't match in test: %s", testname)
	}

}
